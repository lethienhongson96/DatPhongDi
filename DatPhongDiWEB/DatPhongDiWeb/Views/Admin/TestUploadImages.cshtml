
@{
    Layout = "_LayoutAdmin";
}

<div class="row">
    <h2>Upload File Multiple using ASP Core 2.1</h2>
    <div class="col-md-8">
        <form enctype="multipart/form-data" id="UploadFile">
            @Html.AntiForgeryToken()
            <div class="form-group">
                <input type="file" name="files" multiple class="form-control selectImage" id="images" />
            </div>
            <div class="form-group">
                <div id="filelist">
                    <!--show proccessbar-->
                </div>
            </div>
            <div class="form-group">
                <input type="submit" name="submit" value="Upload file" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

<p><input type="file" multiple accept="image/*" name="image" id="file" onchange="loadFile(event)" style="display: none;"></p>
<p><label for="file" style="cursor: pointer;">Upload Image</label></p>
<p id="output">@*<img id="output" width="200" />*@</p>

<script>
    var loadFile = function (event) {
        for (var i = 0; i < document.getElementById('file').files.length;i++) {
            var img = document.createElement("img");
            img.src = URL.createObjectURL(event.target.files[i]);
            img.width = 200;
            img.height = 200;
            $("#output").append(img);
        }
         //document.getElementById('output').src = URL.createObjectURL(event.target.files[0]);
        //image.src = URL.createObjectURL(event.target.files[0]);
    };
</script>

<script src="~/js/UploadImages.js"></script>